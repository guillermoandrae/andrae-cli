#!/usr/bin/env php
<?php

require dirname(__DIR__) . '/vendor/autoload.php';

use Symfony\Component\Console\Application;
use App\Commands;

$dotenv = new Dotenv\Dotenv(dirname(__DIR__));
$dotenv->load();

$client = new \App\Db\DynamoDBClient(new \Aws\DynamoDb\DynamoDbClient([
    'version' => 'latest',
    'profile' => getenv('AWS_PROFILE'),
    'region' => getenv('AWS_DYNAMODB_REGION')
]));

$application = new Application();

$application->add(new Commands\ManageTablesCommand($client));
$application->add(new Commands\ImportCommand($client));

$application->run();
